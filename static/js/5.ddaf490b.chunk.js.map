{"version":3,"sources":["components/Footer/Footer.tsx","components/Header/Header.tsx","components/Layout/Layout.tsx","components/Seo/Seo.tsx","components/Loading/Loading.tsx","components/Error/Error.tsx","features/list/FeatureList.tsx","utils/index.ts","components/MovieDetails/MovieDetails.tsx","pages/Movie/Movie.tsx"],"names":["Footer","className","IconButton","component","href","target","rel","aria-label","size","sx","color","data-testid","fontSize","Header","list","useSelector","state","movies","labelMyList","length","Typography","variant","Link","RouterLink","underline","to","Layout","children","Container","maxWidth","mt","Divider","my","Seo","title","description","meta","name","content","Loading","Box","display","justifyContent","padding","CircularProgress","Error","props","error","Alert","severity","AlertTitle","response","status","data","status_message","FeatureList","movie","id","dispatch","useDispatch","some","Button","endIcon","onClick","remove","add","humanizeRuntime","runtime","hours","Math","floor","minutes","minutesFormatted","String","padStart","h","m","trim","MovieDetails","genres","overview","poster_path","release_date","alt","src","window","config","images","base_url","poster_sizes","map","genre","Chip","label","disabled","Movie","useParams","useAxios","undefined"],"mappings":"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","file":"static/js/5.ddaf490b.chunk.js","sourcesContent":["import IconButton from '@mui/material/IconButton';\nimport GitHubIcon from '@mui/icons-material/GitHub';\n\nimport './Footer.scss';\n\nfunction Footer() {\n  return (\n    <footer className=\"Footer\">\n      <IconButton\n        component=\"a\"\n        href=\"https://github.com/peyre89/test-the-movie-db\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        aria-label=\"GitHub\"\n        size=\"large\"\n        sx={{ color: '#000' }}\n        data-testid=\"footer-a\"\n      >\n        <GitHubIcon fontSize=\"inherit\" />\n      </IconButton>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import { Link as RouterLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport { SliceState } from 'features/list/listSlice';\nimport { RootState } from 'store';\n\nimport { Link, Typography } from '@mui/material';\n\nimport './Header.scss';\n\nfunction Header() {\n  const list: SliceState = useSelector((state: RootState) => state.list.movies);\n\n  const labelMyList = list.length > 0 ? `My list (${list.length})` : 'My list';\n\n  return (\n    <header className=\"Header\">\n      <Typography variant=\"h4\" component=\"h1\">\n        Test The Movie DB\n      </Typography>\n\n      <nav>\n        <ul data-testid=\"header-ul\">\n          <li>\n            <Link component={RouterLink} underline=\"none\" to=\"/\">\n              Home\n            </Link>\n          </li>\n          <li>\n            <Link component={RouterLink} underline=\"none\" to=\"/my-list\">\n              {labelMyList}\n            </Link>\n          </li>\n          <li>\n            <Link component={RouterLink} underline=\"none\" to=\"/about\">\n              About\n            </Link>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;\n","import Footer from 'components/Footer';\nimport Header from 'components/Header';\n\nimport Container from '@mui/material/Container';\nimport Divider from '@mui/material/Divider';\n\ntype LayoutProps = {\n  children: JSX.Element;\n};\n\nfunction Layout({ children }: LayoutProps) {\n  return (\n    <Container maxWidth=\"md\" sx={{ mt: 8 }}>\n      <Header />\n      <Divider sx={{ my: 4 }} />\n      {children}\n      <Footer />\n    </Container>\n  );\n}\n\nexport default Layout;\n","import { Helmet } from 'react-helmet-async';\n\ninterface SeoProps {\n  title: string;\n  description: string;\n}\n\nfunction Seo({ title, description }: SeoProps) {\n  return (\n    <Helmet\n      title={title}\n      meta={[\n        {\n          name: 'description',\n          content: description,\n        },\n      ]}\n    />\n  );\n}\n\nexport default Seo;\n","import Box from '@mui/material/Box';\nimport CircularProgress from '@mui/material/CircularProgress';\n\nfunction Loading() {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: 'center',\n        padding: '128px 0',\n      }}\n    >\n      <CircularProgress />\n    </Box>\n  );\n}\n\nexport default Loading;\n","import Layout from 'components/Layout';\n\nimport { AxiosError } from 'axios';\n\nimport Alert from '@mui/material/Alert';\nimport AlertTitle from '@mui/material/AlertTitle';\nimport Box from '@mui/material/Box';\n\ntype ApiResponse = {\n  success: boolean;\n  status_code: number;\n  status_message: string;\n};\n\ninterface ErrorProps {\n  error: AxiosError<ApiResponse>;\n}\n\n/**\n * This component is in charge of displaying the HTTP status of the response\n * as well as the message returned in case of an API error.\n */\nfunction Error(props: ErrorProps) {\n  const { error } = props;\n\n  return (\n    <Layout>\n      <Box\n        className=\"comp-error\"\n        sx={{ display: 'flex', justifyContent: 'center', mt: 12 }}\n      >\n        <Alert severity=\"error\">\n          <AlertTitle>Error {error.response?.status}</AlertTitle>\n\n          {error.response?.data.status_message}\n        </Alert>\n      </Box>\n    </Layout>\n  );\n}\n\nexport default Error;\n","import { useSelector, useDispatch } from 'react-redux';\n\nimport { RootState } from 'store';\nimport { Movie } from 'types';\nimport { add, remove, SliceState } from './listSlice';\n\nimport Button from '@mui/material/Button';\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport RemoveCircleOutlineIcon from '@mui/icons-material/RemoveCircleOutline';\n\nfunction FeatureList({ movie }: { movie: Movie }) {\n  const { id } = movie;\n\n  const list: SliceState = useSelector((state: RootState) => state.list.movies);\n  const dispatch = useDispatch();\n\n  const hasId = list.some((movie: Movie) => movie.id === id);\n\n  const handleRemove = () => dispatch(remove(id));\n  const handleAdd = () => dispatch(add(movie));\n\n  return hasId ? (\n    <Button\n      color=\"error\"\n      variant=\"outlined\"\n      endIcon={<RemoveCircleOutlineIcon />}\n      onClick={handleRemove}\n    >\n      Remove from My list\n    </Button>\n  ) : (\n    <Button\n      color=\"success\"\n      variant=\"outlined\"\n      endIcon={<AddCircleOutlineIcon />}\n      onClick={handleAdd}\n    >\n      Add to My list\n    </Button>\n  );\n}\n\nexport default FeatureList;\n","/**\n * Method to convert the duration of a movie into something easier to read.\n */\nfunction humanizeRuntime(runtime: number) {\n  const ONE_HOUR = 60;\n\n  const hours = Math.floor(runtime / ONE_HOUR);\n  const minutes = runtime % ONE_HOUR;\n\n  const minutesFormatted = String(minutes).padStart(2, '0');\n\n  const h = hours > 0 ? `${hours}h` : '';\n  const m = minutes > 0 ? `${minutesFormatted}min` : '';\n\n  return `${h} ${m}`.trim();\n}\n\nexport { humanizeRuntime };\n","import FeatureList from 'features/list/FeatureList';\n\nimport { Genre, Movie } from 'types';\n\nimport { humanizeRuntime } from 'utils';\n\nimport Box from '@mui/material/Box';\nimport Chip from '@mui/material/Chip';\n\nimport './MovieDetails.scss';\n\nfunction MovieDetails({ movie }: { movie: Movie }) {\n  const { genres, overview, poster_path, release_date, runtime, title } = movie;\n\n  return (\n    <div className=\"MovieDetails\">\n      <div className=\"poster-and-content\">\n        <img\n          alt={title}\n          src={`${window.config.images.base_url}${window.config.images.poster_sizes[2]}${poster_path}`}\n        />\n        <div className=\"content\">\n          <h1>{title}</h1>\n\n          <p>\n            {release_date} / {humanizeRuntime(runtime)}\n          </p>\n\n          <p>{overview}</p>\n\n          <ul>\n            {genres.map((genre: Genre) => (\n              <li key={genre.id}>\n                <Chip label={genre.name} variant=\"outlined\" disabled />\n              </li>\n            ))}\n          </ul>\n\n          <Box sx={{ mt: 2 }}>\n            <FeatureList movie={movie} />\n          </Box>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MovieDetails;\n","import { useParams } from 'react-router-dom';\n\nimport { useAxios } from 'hooks/useAxios';\n\nimport Seo from 'components/Seo';\nimport Layout from 'components/Layout';\nimport Loading from 'components/Loading';\nimport MovieDetails from 'components/MovieDetails';\nimport Error from 'components/Error';\n\nimport { Movie as MovieInterface } from 'types';\n\nimport './Movie.scss';\n\ninterface MyParams {\n  id: string;\n}\n\nfunction Movie() {\n  let { id } = useParams<MyParams>();\n\n  const [{ data, error }] = useAxios(`/movie/${id}`);\n\n  if (error) {\n    return <Error error={error} />;\n  }\n\n  if (data === undefined) {\n    return (\n      <Layout>\n        <div className=\"page-movie\">\n          <Loading />\n        </div>\n      </Layout>\n    );\n  }\n\n  const { title, overview }: MovieInterface = data;\n\n  return (\n    <>\n      <Seo title={title} description={overview} />\n\n      <Layout>\n        <div className=\"page-movie\">\n          <MovieDetails movie={data} />\n        </div>\n      </Layout>\n    </>\n  );\n}\n\nexport default Movie;\n"],"sourceRoot":""}